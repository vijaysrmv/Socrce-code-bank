<div class="banner-header banner-alignment">
	<div class="container">
		<h1 class="heading" id="main-header">Dashboard</h1>
	</div>
</div>
<div class="container">
	<div class="row pt-2">
		<div class="col-md-12 mb-4">
			<div class="card text-left">
				<div class="card-body">
					<h4 class="card-title border-bottom">Application Status</h4>
					<ngx-charts-advanced-pie-chart [results]="appStatusData" [gradient]="true">
					</ngx-charts-advanced-pie-chart>
				</div>
			</div>
		</div>
		<div class="col-md-6 mb-4">
			<div class="card text-left">
				<div class="card-body">
					<h4 class="card-title border-bottom">Application Stages</h4>
					<ngx-charts-bar-vertical
						[view]="[500, 400]"
						[results]="appStagesData"
						[xAxisLabel]="'Application Count'"
						[legendTitle]="'Application and Stages'"
						[yAxisLabel]="'Stages'"
						[legend]="true"
						[legendPosition]="'below'"
						[showXAxisLabel]="true"
						[showYAxisLabel]="true"
						[xAxis]="true"
						[yAxis]="true"
						[gradient]="true"
					>
					</ngx-charts-bar-vertical>
				</div>
			</div>
		</div>
		<div class="col-md-6 mb-4">
			<div class="card text-left">
				<div class="card-body">
					<h4 class="card-title border-bottom">Application Analytics</h4>
					<ngx-charts-pie-chart
						[results]="appAnalyticsData"
						[legend]="true"
						[legendPosition]="'below'"
						[legendTitle]="'Application Analytics Report'"
						[view]="[500, 400]"
						[labels]="true"
					>
					</ngx-charts-pie-chart>
				</div>
			</div>
		</div>

		<!-- <div class="col-md-6">
			<div class="card text-left">
				<div class="card-body">
					<h4 class="card-title border-bottom">Pie Grid Charts</h4>
					<ngx-charts-pie-grid [results]="saleData"> </ngx-charts-pie-grid>
				</div>
			</div>
		</div> -->
	</div>

	<div class="saved-application-list">
		<h4 class="sub-heading">Applications under progress / available for review</h4>
		<div class="application-list">
			<table class="table">
				<!-- table-responsive -->
				<thead>
					<tr>
						<th>Application Type</th>
						<th>Products/Accounts</th>
						<th>Application Status</th>
						<th>Application Initiated On</th>
						<th>Last Modified On</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>
							<button type="button" (click)="onAppTypeClick()">Business</button>
						</td>
						<td>Business Checking</td>
						<td class="status-approve">Approved</td>
						<td>01/10/2022</td>
						<td>01/15/2022</td>
					</tr>
					<tr>
						<td>
							<button type="button" (click)="onAppTypeClick()">Business</button>
						</td>
						<td>Business Money Market</td>
						<td class="status-pending">Pending</td>
						<td>05/10/2022</td>
						<td>01/20/2022</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<div class="application-details" *ngIf="isExpanded">
		<h4 class="application-name">Business Checking</h4>
		<div class="row">
			<div class="form-group col-xs-12 col-sm-6 col-md-4">
				<label for="">Applicant Name</label>
				<input type="text" class="form-control" value="John" disabled />
			</div>
			<div class="form-group col-xs-12 col-sm-6 col-md-4">
				<label for="">Date of Birth</label>
				<input type="text" class="form-control" value="xx-xx-1990" disabled />
			</div>
			<div class="form-group col-xs-12 col-sm-6 col-md-4">
				<label for="">SSN</label>
				<input type="text" class="form-control" value="xxxx-xx-1010" disabled />
			</div>
			<div class="form-group col-xs-12 col-sm-6 col-md-4">
				<label for="">Email ID</label>
				<input type="text" class="form-control" value="jogn@fab.com" disabled />
			</div>
			<div class="form-group col-xs-12 col-sm-6 col-md-4">
				<label for="">Phone Number</label>
				<input type="text" class="form-control" value="xxxx-xx-9090" disabled />
			</div>
			<div class="form-group col-12">
				<button
					type="button"
					class="btn btn-next pull-right"
					(click)="handleContinue()"
					(enter)="handleContinue()"
					aria-label="Continue"
				>
					Additional Details <i class="fa fa-long-arrow-right"></i>
				</button>
			</div>
		</div>
		<h4 class="error-div sub-heading mt-1 mb-1">
			Applicant has active business operations in sanctioned country <mark><strong>Iraq</strong></mark
			>. Please review the application accordingly.
		</h4>
		<h4 class="sub-heading" style="margin-top: 15px">Pending Documents</h4>
		<div class="upload-document">
			<p class="no-margin">Kindly upload following documents required to support your application.</p>
			<ul>
				<li *ngFor="let doc of pendingDocs">
					{{ doc.docType }}
					<div class="col-md-12 form-group">
						<div class="upload-btn-wrapper">
							<button class="btn"><i class="fa fa-plus-circle"></i> Add attachment</button>
							<input
								type="file"
								name="myfile-{{ doc.id }}"
								id="file-upload"
								(change)="uploadAttachment($event, doc.id)"
							/>
						</div>
						<div [ngClass]="doc.isAttached ? 'uploaded-file-section' : 'd-none'">
							<span id="uploaded-file-{{ doc.id }}">
								{{ doc.fileName }}
								<i class="remove-attachment-icon fa fa-close" (click)="removeAttachment(doc.id)"> </i>
							</span>
						</div>
					</div>
				</li>
			</ul>
		</div>
	</div>
</div>
